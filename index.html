<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–°–∞—à–∞</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            height: 100vh; background: radial-gradient(circle at center, #1a1a2e 0%, #0a0a0a 70%); 
            color: white; overflow: hidden; position: relative;
        }
        
        /* –ü–ï–†–í–´–ô –≠–ö–†–ê–ù - –ü–†–û–°–¢–û–ô –ü–ê–†–û–õ–¨ */
        .welcome-screen { 
            position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            z-index: 3000; background: rgba(0,0,0,0.95); backdrop-filter: blur(30px);
        }
        .welcome-screen.hidden { display: none; }
        .welcome-title { 
            font-size: 3rem; font-weight: 300; margin-bottom: 4rem; 
            color: white;
        }
        .welcome-input { 
            width: 90vw; max-width: 500px; padding: 30px; 
            background: rgba(255,255,255,0.1); border: 4px solid rgba(255,255,255,0.3); 
            border-radius: 25px; color: white; font-size: 2rem; text-align: center; 
            backdrop-filter: blur(30px); transition: all 0.5s; 
            box-shadow: 0 25px 80px rgba(0,0,0,0.7);
        }
        .welcome-input::placeholder { color: rgba(255,255,255,0.6); }
        .welcome-input:focus { 
            outline: none; border-color: #ffeb3b; 
            box-shadow: 0 30px 100px rgba(255,235,59,0.4); transform: translateY(-10px) scale(1.02);
        }
        
        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø */
        .nav { 
            position: fixed; top: 0; left: 0; right: 0; 
            display: none; background: rgba(0,0,0,0.9); 
            backdrop-filter: blur(20px); z-index: 2000; padding: 10px 0;
        }
        .nav.show { display: flex; }
        .nav-btn { 
            flex: 1; padding: 12px 8px; background: none; 
            border: none; color: white; font-size: 0.85rem;
            cursor: pointer; transition: all 0.3s; white-space: nowrap;
        }
        .nav-btn.active { 
            background: rgba(255,255,255,0.2); 
            box-shadow: 0 5px 20px rgba(255,255,255,0.1);
        }
        .nav-btn:hover { background: rgba(255,255,255,0.1); }
        
        /* –í–ö–õ–ê–î–ö–ò */
        .tab-content { 
            display: none; height: 100vh; padding-top: 70px;
            justify-content: center; align-items: center; flex-direction: column;
        }
        .tab-content.active { display: flex; }
        
        /* –ì–õ–ê–í–ù–ê–Ø –° –°–ß–ï–¢–ß–ò–ö–û–ú */
        .main-screen { text-align: center; }
        .countdown-title { 
            font-size: clamp(2.5rem, 10vw, 5rem); font-weight: 300; 
            margin-bottom: 3rem; background: linear-gradient(135deg, #fff, #ffeb3b); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255,255,255,0.4);
        }
        .countdown { 
            display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center; 
            font-size: clamp(3rem, 12vw, 8rem); font-weight: 200; font-family: 'Courier New', monospace;
        }
        .countdown-item { 
            background: rgba(255,255,255,0.1); padding: 20px 30px; 
            border-radius: 20px; backdrop-filter: blur(20px); 
            box-shadow: 0 20px 60px rgba(0,0,0,0.5); min-width: 120px;
        }
        .countdown-label { font-size: 1rem; opacity: 0.8; margin-top: 5px; }
        
        /* –ü–ê–°–•–ê–õ–ö–ê - 70% –†–ê–ó–ú–ï–† */
        .slideshow { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
            width: 70vw; height: 70vh; max-width: 1000px; max-height: 700px;
            display: none; border-radius: 25px; overflow: hidden; 
            box-shadow: 0 40px 120px rgba(0,0,0,0.9);
            backdrop-filter: blur(15px); border: 3px solid rgba(255,255,255,0.2);
            z-index: 1000;
            position: relative;
        }
        .slideshow.show { display: block; animation: slideIn 1s ease-out; }
        @keyframes slideIn { 
            from { opacity: 0; transform: translate(-50%, -70%) scale(0.9); } 
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); } 
        }
        .slide { 
            position: absolute; width: 100%; height: 100%; 
            object-fit: cover; opacity: 0; transition: all 1.5s ease-in-out; 
            border-radius: 25px; 
        }
        .slide.active { 
            opacity: 1; transform: scale(1); 
            filter: brightness(1.15) contrast(1.2); 
            box-shadow: inset 0 0 80px rgba(255,255,255,0.2);
        }
        .slide:not(.active) { 
            transform: scale(0.95); filter: brightness(0.8); 
        }
        
        /* –¢–†–û–õ–õ–§–ï–ô–°–´ - –†–ê–ó–ù–´–ï –°–¢–û–†–û–ù–´ */
        .troll-top-left, .troll-top-right, .troll-bottom-left, .troll-bottom-right {
            position: absolute;
            width: 35%; height: 45%;
            background-size: contain !important;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            z-index: 35;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .troll-top-left {
            top: 5%; left: 5%;
            transform: scale(0) rotate(0deg);
        }
        .troll-top-right {
            top: 5%; right: 5%;
            transform: scale(0) rotate(180deg);
        }
        .troll-bottom-left {
            bottom: 5%; left: 5%;
            transform: scale(0) rotate(90deg);
        }
        .troll-bottom-right {
            bottom: 5%; right: 5%;
            transform: scale(0) rotate(-90deg);
        }
        
        .troll-show {
            opacity: 1 !important;
            transform: scale(1.2) rotate(360deg) !important;
            animation: trollFlash 0.5s ease-out forwards;
        }
        
        @keyframes trollFlash {
            0% { 
                opacity: 1; transform: scale(1.2) rotate(360deg);
                filter: hue-rotate(0deg) brightness(1.5) saturate(3);
            }
            100% { 
                opacity: 0; transform: scale(0.8) rotate(720deg);
                filter: hue-rotate(360deg) brightness(2) saturate(4);
            }
        }
        
        /* –ú–ï–õ–õ–°–¢–†–û–ô–ù–û–°–¢–¨ */
        .voting { text-align: center; max-width: 800px; width: 90vw; padding: 20px; }
        .voting h2 { font-size: clamp(2rem, 8vw, 4rem); margin-bottom: 2rem; }
        .video-options { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .video-btn { 
            width: 280px; height: 160px; background: rgba(255,255,255,0.1); 
            border: 2px solid rgba(255,255,255,0.3); border-radius: 15px; 
            cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }
        .video-btn:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
        .video-btn.winner { background: rgba(0,255,0,0.3); border-color: #00ff00; animation: pulse 1s infinite; }
        @keyframes pulse { 0%, 100% { box-shadow: 0 0 20px #00ff00; } 50% { box-shadow: 0 0 40px #00ff00; } }
        .video-btn video { width: 100%; height: 100%; object-fit: cover; border-radius: 13px; }
        
        /* –ò–ì–†–ê */
        .falling-game { position: relative; width: 100%; height: 70vh; overflow: hidden; }
        .falling-photo { 
            position: absolute; width: 120px; height: 120px; background-size: cover; 
            border-radius: 15px; cursor: pointer; transition: all 0.2s; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); animation: fall 5s linear infinite; 
        }
        .falling-photo:hover { transform: scale(1.15); filter: brightness(1.4); }
        @keyframes fall { from { transform: translateY(-100px); } to { transform: translateY(100vh); } }
        .game-controls { text-align: center; margin-top: 1rem; }
        .game-score { font-size: 2.5rem; margin-bottom: 1.5rem; }
        .game-start { font-size: 4rem; cursor: pointer; }
        
        audio { display: none; }
        
        @media (max-width: 600px) {
            .nav-btn { font-size: 0.75rem; padding: 8px 4px; }
            .slideshow { width: 90vw; height: 65vh; }
        }
    </style>
</head>
<body>
    <!-- 1. –ü–†–û–°–¢–û–ô –ü–ê–†–û–õ–¨ -->
    <div class="welcome-screen" id="welcomeScreen">
        <h1 class="welcome-title">—Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ</h1>
        <input class="welcome-input" id="mainPassword" type="password" placeholder="–≤–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å" maxlength="10" autocomplete="off">
    </div>

    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <div class="nav" id="nav">
        <button class="nav-btn active" onclick="switchTab(0)">–ì–ª–∞–≤–Ω–∞—è</button>
        <button class="nav-btn" onclick="switchTab(1)">–ü–∞—Å—Ö–∞–ª–∫–∞</button>
        <button class="nav-btn" onclick="switchTab(2)">–ú–µ–ª–ª—Å—Ç—Ä–æ–π–Ω–æ—Å—Ç—å</button>
        <button class="nav-btn" onclick="switchTab(3)">–ò–≥—Ä–∞</button>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 0: –ì–õ–ê–í–ù–ê–Ø —Å–æ —Å—á–µ—Ç—á–∏–∫–æ–º -->
    <div id="tab0" class="tab-content active">
        <div class="main-screen">
            <div class="countdown-title">–î–æ –∞–ø—Ä–µ–ª—å—Å–∫–∏—Ö –∫–∞–Ω–∏–∫—É–ª –∏ —Å–∞–º–æ–∫–∞—Ç–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å:</div>
            <div class="countdown">
                <div class="countdown-item">
                    <div id="days">00</div>
                    <div class="countdown-label">–¥–Ω–µ–π</div>
                </div>
                <div class="countdown-item">
                    <div id="hours">00</div>
                    <div class="countdown-label">—á–∞—Å–æ–≤</div>
                </div>
                <div class="countdown-item">
                    <div id="minutes">00</div>
                    <div class="countdown-label">–º–∏–Ω—É—Ç</div>
                </div>
                <div class="countdown-item">
                    <div id="seconds">00</div>
                    <div class="countdown-label">—Å–µ–∫—É–Ω–¥</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 1: –ü–ê–°–•–ê–õ–ö–ê (6 –§–û–¢–û + 4 —Ç—Ä–æ–ª–ª—Ñ–µ–π—Å–∞) -->
    <div id="tab1" class="tab-content">
        <div class="slideshow" id="slideshow">
            <img src="assets/s1.jpeg" class="slide active">
            <img src="assets/s2.jpeg" class="slide">
            <img src="assets/s3.jpeg" class="slide">
            <img src="assets/s4.jpeg" class="slide">
            <img src="assets/s5.jpeg" class="slide">
            <img src="assets/s6.jpeg" class="slide">
            
            <!-- 4 –¢–†–û–õ–õ–§–ï–ô–°–ê –†–ê–ó–ù–´–• –°–¢–û–†–û–ù -->
            <div class="troll-top-left"></div>
            <div class="troll-top-right"></div>
            <div class="troll-bottom-left"></div>
            <div class="troll-bottom-right"></div>
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 2: –ú–ï–õ–õ–°–¢–†–û–ô–ù–û–°–¢–¨ -->
    <div id="tab2" class="tab-content">
        <div class="voting">
            <h2>üó≥Ô∏è –õ—É—á—à–∞—è –º–µ–ª–ª—Å—Ç—Ä–æ–π–Ω–æ—Å—Ç—å</h2>
            <div class="video-options">
                <div class="video-btn" onclick="vote(0)">
                    <video id="video1" src="assets/v1.mp4" muted loop preload="metadata"></video>
                </div>
                <div class="video-btn" onclick="vote(1)">
                    <video id="video2" src="assets/v2.mp4" muted loop preload="metadata"></video>
                </div>
                <div class="video-btn" onclick="vote(2)">
                    <video id="video3" src="assets/v3.mp4" muted loop preload="metadata"></video>
                </div>
            </div>
            <div style="margin-top: 2rem; font-size: 1.8rem;">
                –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: <span id="winner">–ì–æ–ª–æ—Å—É–π!</span>
            </div>
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 3: –ò–ì–†–ê -->
    <div id="tab3" class="tab-content">
        <div class="falling-game" id="fallingGame"></div>
        <div class="game-controls">
            <div class="game-score">–°—á—ë—Ç: <span id="fallingScore">0</span></div>
            <div class="game-start" onclick="startFallingGame()" title="–ù–∞—á–∞—Ç—å –∏–≥—Ä—É">üéÆ</div>
        </div>
    </div>
    
    <audio id="music" src="assets/song1.mp3" preload="auto"></audio>

    <script>
        let isSiteUnlocked = false;
        let currentTab = 0;
        let votes = [0, 0, 0];
        let fallingScore = 0;
        let gameInterval;
        let slideIndex = 0;
        let slideshowInterval;
        let musicPlayer;
        let trollTimeout;

        // –ì–õ–ê–í–ù–´–ô –ü–ê–†–û–õ–¨
        const mainPassword = document.getElementById('mainPassword');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const nav = document.getElementById('nav');
        musicPlayer = document.getElementById('music');

        mainPassword.focus();
        mainPassword.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                if (mainPassword.value === '–∞–º–∏–Ω–∞') {
                    welcomeScreen.classList.add('hidden');
                    nav.classList.add('show');
                    isSiteUnlocked = true;
                    updateCountdown();
                    setInterval(updateCountdown, 1000);
                } else {
                    mainPassword.value = '';
                    mainPassword.style.borderColor = '#ff6b6b';
                    mainPassword.style.boxShadow = '0 30px 100px rgba(255,107,107,0.5)';
                    setTimeout(() => {
                        mainPassword.style.borderColor = 'rgba(255,255,255,0.3)';
                        mainPassword.style.boxShadow = '0 25px 80px rgba(0,0,0,0.7)';
                    }, 500);
                }
            }
        });

        // –°–ß–ï–¢–ß–ò–ö
        function updateCountdown() {
            const targetDate = new Date('2026-03-30T00:00:00').getTime();
            const now = new Date().getTime();
            const distance = targetDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        // –ù–ê–í–ò–ì–ê–¶–ò–Ø
        function switchTab(tab) {
            if (!isSiteUnlocked) return;
            
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(`tab${tab}`).classList.add('active');
            document.querySelectorAll('.nav-btn')[tab].classList.add('active');
            currentTab = tab;
            
            if (tab === 1) {
                startEasterEgg();
            }
        }

        // –ü–û–ö–ê–ó–ê–¢–¨ –¢–†–û–õ–õ–§–ï–ô–° –ù–ê 0.5 –°–ï–ö–£–ù–î–´
        function showTroll(position) {
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã
            document.querySelectorAll('.troll-top-left, .troll-top-right, .troll-bottom-left, .troll-bottom-right')
                .forEach(troll => troll.classList.remove('troll-show'));
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π
            const troll = document.querySelector(`.troll-${position}`);
            troll.style.backgroundImage = 'url("assets/t.jpeg")';
            troll.classList.add('troll-show');
            
            // –ü—Ä—è—á–µ–º —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫
            setTimeout(() => {
                troll.classList.remove('troll-show');
            }, 500);
        }

        // –ü–ê–°–•–ê–õ–ö–ê - 25 –°–ï–ö–£–ù–î, 6 –§–û–¢–û
        function startEasterEgg() {
            const slideshow = document.getElementById('slideshow');
            
            slideshow.classList.add('show');
            
            // –ú–£–ó–´–ö–ê 25 –°–ï–ö–£–ù–î
            musicPlayer.currentTime = 0;
            musicPlayer.volume = 0.4;
            musicPlayer.play().catch(() => {});
            
            // 6 –§–û–¢–û x 4 —Å–µ–∫—É–Ω–¥—ã
            let photoIndex = 0;
            const trollPositions = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];
            
            showSlide(0);
            
            const photoInterval = setInterval(() => {
                photoIndex++;
                if (photoIndex < 6) {
                    showSlide(photoIndex);
                    // –¢—Ä–æ–ª–ª –Ω–∞ –Ω–æ–≤–æ–π —Ñ–æ—Ç–∫–µ (—á–µ—Ä–µ–∑ 0.2 —Å–µ–∫ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã)
                    setTimeout(() => {
                        const trollPos = trollPositions[photoIndex % 4];
                        showTroll(trollPos);
                    }, 200);
                } else {
                    clearInterval(photoInterval);
                }
            }, 4000);
            
            // –¢–û–ß–ù–û 25 –°–ï–ö–£–ù–î
            setTimeout(() => {
                clearInterval(photoInterval);
                musicPlayer.pause();
                musicPlayer.currentTime = 0;
                slideshow.classList.remove('show');
            }, 25000);
        }

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === n);
            });
        }

        // –ú–ï–õ–õ–°–¢–†–û–ô–ù–û–°–¢–¨
        const videos = ['video1', 'video2', 'video3'];
        videos.forEach((videoId, index) => {
            const video = document.getElementById(videoId);
            video.addEventListener('mouseenter', () => video.play());
            video.addEventListener('mouseleave', () => video.pause());
        });

        function vote(videoIndex) {
            votes[videoIndex]++;
            const maxVotes = Math.max(...votes);
            const winnerIndex = votes.indexOf(maxVotes);
            document.getElementById('winner').textContent = `–í–∏–¥–µ–æ ${winnerIndex + 1} (${maxVotes} –≥–æ–ª–æ—Å–æ–≤)`;
            
            document.querySelectorAll('.video-btn').forEach((btn, i) => {
                btn.classList.toggle('winner', i === winnerIndex);
            });
            
            const clickedVideo = document.getElementById(videos[videoIndex]);
            clickedVideo.muted = false;
            clickedVideo.currentTime = 0;
            clickedVideo.play();
            
            clickedVideo.onended = () => {
                clickedVideo.pause();
                clickedVideo.muted = true;
                clickedVideo.currentTime = 0;
            };
        }

        // –ò–ì–†–ê
        function startFallingGame() {
            const game = document.getElementById('fallingGame');
            game.innerHTML = '';
            fallingScore = 0;
            document.getElementById('fallingScore').textContent = '0';
            
            if (gameInterval) clearInterval(gameInterval);
            
            gameInterval = setInterval(() => {
                const photo = document.createElement('div');
                photo.className = 'falling-photo';
                photo.style.left = Math.random() * 85 + '%';
                photo.style.backgroundImage = `url("assets/s${Math.floor(Math.random() * 5) + 1}.jpeg")`;
                game.appendChild(photo);
                
                photo.onclick = () => {
                    photo.style.transform = 'scale(0.5)';
                    photo.style.opacity = '0';
                    setTimeout(() => photo.remove(), 200);
                    fallingScore++;
                    document.getElementById('fallingScore').textContent = fallingScore;
                };
                
                setTimeout(() => {
                    if (photo.parentNode) {
                        photo.style.transform = 'scale(0.5)';
                        photo.style.opacity = '0';
                        setTimeout(() => photo.remove(), 200);
                    }
                }, 7000);
            }, 1200);
            
            setTimeout(() => {
                clearInterval(gameInterval);
            }, 35000);
        }
    </script>
</body>
</html>
