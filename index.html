<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–°–∞—à–∞</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            height: 100vh; background: radial-gradient(circle at center, #1a1a2e 0%, #0a0a0a 70%); 
            color: white; overflow: hidden;
        }
        
        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø */
        .nav { 
            position: fixed; top: 0; left: 0; right: 0; 
            display: flex; background: rgba(0,0,0,0.9); 
            backdrop-filter: blur(20px); z-index: 2000; padding: 15px 0;
        }
        .nav-btn { 
            flex: 1; padding: 15px; background: none; 
            border: none; color: white; font-size: 1.1rem; 
            cursor: pointer; transition: all 0.3s;
        }
        .nav-btn.active { 
            background: rgba(255,255,255,0.2); 
            box-shadow: 0 5px 20px rgba(255,255,255,0.1);
        }
        .nav-btn:hover { background: rgba(255,255,255,0.1); }
        
        /* –ö–û–ù–¢–ï–ù–¢ –í–ö–õ–ê–î–ö–ò */
        .tab-content { 
            display: none; height: 100vh; padding-top: 80px; 
            justify-content: center; align-items: center; 
        }
        .tab-content.active { display: flex; flex-direction: column; }
        
        /* –¢–†–û–õ–õ–§–ï–ô–° */
        .trollface {
            position: fixed; width: 180px; height: 180px; opacity: 0;
            pointer-events: none; z-index: 1000; left: 50%; top: 50%;
            background-size: contain; background-repeat: no-repeat; background-position: center;
            animation: evilTroll 2s ease-out forwards;
            transform: translate(-50%, -50%);
        }
        @keyframes evilTroll {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.2) rotate(0deg); filter: brightness(0.3) contrast(1.5); }
            15% { opacity: 1; transform: translate(-50%, -50%) scale(1.4) rotate(-90deg); filter: brightness(1.2) contrast(1.8) drop-shadow(0 0 20px #ff0000); }
            35% { transform: translate(-50%, -50%) scale(1.8) rotate(180deg); filter: brightness(1.5) contrast(2) drop-shadow(0 0 40px #ff4444) hue-rotate(20deg); }
            55% { transform: translate(-50%, -50%) scale(2.1) rotate(360deg); filter: brightness(1.8) contrast(2.2) drop-shadow(0 0 60px #ff8800) hue-rotate(60deg); }
            75% { transform: translate(-50%, -50%) scale(1.7) rotate(540deg); filter: brightness(1.6) contrast(2) drop-shadow(0 0 50px #ffff00) hue-rotate(120deg); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.4) rotate(900deg); filter: brightness(0.5) contrast(1.5); }
        }
        
        /* –ü–ê–°–•–ê–õ–ö–ê */
        .password-screen { text-align: center; max-width: 500px; width: 90vw; }
        .password-screen h1 { 
            font-size: clamp(4rem, 20vw, 70vh); font-weight: 200; 
            letter-spacing: -3px; margin-bottom: 3rem; 
            background: linear-gradient(135deg, #fff, #ccc); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 50px rgba(255,255,255,0.5);
        }
        .password-screen input { 
            width: 100%; padding: 25px; background: rgba(255,255,255,0.08); 
            border: 3px solid rgba(255,255,255,0.2); border-radius: 20px; color: white; 
            font-size: 1.8rem; text-align: center; backdrop-filter: blur(25px); 
            transition: all 0.4s; box-shadow: 0 15px 50px rgba(0,0,0,0.5);
        }
        .password-screen input::placeholder { color: rgba(255,255,255,0.5); }
        .password-screen input:focus { 
            outline: none; border-color: rgba(255,255,255,0.8); 
            box-shadow: 0 20px 60px rgba(255,255,255,0.3); transform: translateY(-5px);
        }
        .password-screen.hidden { display: none; }
        
        .slideshow { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
            width: 50vw; height: 50vh; display: none; border-radius: 25px; 
            overflow: hidden; box-shadow: 0 30px 100px rgba(0,0,0,0.8);
            backdrop-filter: blur(15px); border: 2px solid rgba(255,255,255,0.15);
        }
        .slideshow.show { display: block; animation: slideIn 1s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translate(-50%, -70%) scale(0.8); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } }
        
        .slide { position: absolute; width: 100%; height: 100%; object-fit: cover; opacity: 0; 
                 transition: all 1.2s ease-in-out; border-radius: 25px; }
        .slide.active { opacity: 1; transform: scale(1); filter: brightness(1.1) contrast(1.15); 
                       box-shadow: inset 0 0 60px rgba(255,255,255,0.15); }
        .slide:not(.active) { transform: scale(0.92); filter: brightness(0.75); }
        
        /* –ì–û–õ–û–°–û–í–ê–ù–ò–ï - –ú–ï–õ–õ–°–¢–†–û–ô–ù–û–°–¢–¨ */
        .voting { text-align: center; max-width: 800px; width: 90vw; padding: 20px; }
        .voting h2 { font-size: clamp(2rem, 8vw, 4rem); margin-bottom: 2rem; }
        .video-options { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .video-btn { 
            width: 280px; height: 160px; background: rgba(255,255,255,0.1); 
            border: 2px solid rgba(255,255,255,0.3); border-radius: 15px; 
            cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }
        .video-btn:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
        .video-btn.winner { background: rgba(0,255,0,0.3); border-color: #00ff00; animation: pulse 1s infinite; }
        @keyframes pulse { 0%, 100% { box-shadow: 0 0 20px #00ff00; } 50% { box-shadow: 0 0 40px #00ff00; } }
        .video-btn video { width: 100%; height: 100%; object-fit: cover; border-radius: 13px; }
        .video-btn span { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); font-weight: bold; background: rgba(0,0,0,0.7); padding: 5px 10px; border-radius: 10px; }
        
        /* –ò–ì–†–ê - –ü–ê–î–ê–Æ–©–ò–ï –§–û–¢–û */
        .falling-game { position: relative; width: 100%; height: 70vh; overflow: hidden; }
        .falling-photo { 
            position: absolute; width: 120px; height: 120px; 
            background-size: cover; border-radius: 15px; 
            cursor: pointer; transition: all 0.2s; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .falling-photo:hover { transform: scale(1.15); filter: brightness(1.4); }
        
        audio { display: none; }
    </style>
</head>
<body>
    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <div class="nav">
        <button class="nav-btn active" onclick="switchTab(0)">–ü–∞—Å—Ö–∞–ª–∫–∞</button>
        <button class="nav-btn" onclick="switchTab(1)">–ú–µ–ª–ª—Å—Ç—Ä–æ–π–Ω–æ—Å—Ç—å</button>
        <button class="nav-btn" onclick="switchTab(2)">–ò–≥—Ä–∞</button>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 1: –ü–ê–°–•–ê–õ–ö–ê -->
    <div id="tab0" class="tab-content active">
        <div class="password-screen" id="passwordScreen">
            <h1>–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ</h1>
            <input type="password" id="passwordInput" placeholder="–≤–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å" maxlength="10" autocomplete="off">
        </div>

        <div class="slideshow" id="slideshow">
            <img src="assets/s1.jpeg" class="slide active">
            <img src="assets/s2.jpeg" class="slide">
            <img src="assets/s3.jpeg" class="slide">
            <img src="assets/s4.jpeg" class="slide">
            <img src="assets/s5.jpeg" class="slide">
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 2: –ú–ï–õ–õ–°–¢–†–û–ô–ù–û–°–¢–¨ -->
    <div id="tab1" class="tab-content">
        <div class="voting">
            <h2>üó≥Ô∏è –õ—É—á—à–∞—è –º–µ–ª–ª—Å—Ç—Ä–æ–π–Ω–æ—Å—Ç—å</h2>
            <div class="video-options">
                <div class="video-btn" onclick="vote(0)">
                    <video src="assets/v1.mp4" muted loop></video>
                    <span>v1</span>
                </div>
                <div class="video-btn" onclick="vote(1)">
                    <video src="assets/v2.mp4" muted loop></video>
                    <span>v2</span>
                </div>
                <div class="video-btn" onclick="vote(2)">
                    <video src="assets/v3.mp4" muted loop></video>
                    <span>v3</span>
                </div>
            </div>
            <div style="margin-top: 2rem; font-size: 1.8rem;">
                –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: <span id="winner">–ì–æ–ª–æ—Å—É–π!</span>
            </div>
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 3: –ò–ì–†–ê -->
    <div id="tab2" class="tab-content">
        <div class="falling-game" id="fallingGame"></div>
        <div style="text-align: center; margin-top: 1rem;">
            <div style="font-size: 2.5rem; margin-bottom: 1.5rem;">–°—á—ë—Ç: <span id="fallingScore">0</span></div>
            <button onclick="startFallingGame()" style="padding: 20px 40px; font-size: 1.5rem; background: rgba(255,255,255,0.2); border: 3px solid white; color: white; border-radius: 15px; cursor: pointer; transition: all 0.3s;">üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        </div>
    </div>
    
    <audio id="music" src="assets/song1.mp3" preload="auto"></audio>

    <script>
        let currentTab = 0;
        let votes = [0, 0, 0];
        let fallingScore = 0;
        let gameInterval;

        // –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –í–ö–õ–ê–î–û–ö
        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`tab${tab}`).classList.add('active');
            document.querySelectorAll('.nav-btn')[tab].classList.add('active');
            currentTab = tab;
            
            if (tab === 2 && gameInterval) clearInterval(gameInterval);
        }

        // –ü–ê–°–•–ê–õ–ö–ê
        const passwordInput = document.getElementById('passwordInput');
        const passwordScreen = document.getElementById('passwordScreen');
        const slideshow = document.getElementById('slideshow');
        const slides = document.querySelectorAll('.slide');
        const music = document.getElementById('music');
        let slideIndex = 0;
        let interval;

        function createEvilTroll() {
            const troll = document.createElement('div');
            troll.className = 'trollface';
            troll.style.backgroundImage = 'url("assets/t.jpeg")';
            document.body.appendChild(troll);
            setTimeout(() => troll.remove(), 2000);
        }

        passwordInput.focus();
        passwordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                if (passwordInput.value === '–∞–º–∏–Ω–∞') {
                    passwordScreen.classList.add('hidden');
                    setTimeout(() => {
                        slideshow.classList.add('show');
                        setTimeout(playShow, 300);
                    }, 300);
                } else {
                    passwordInput.value = '';
                    passwordInput.style.borderColor = '#ff6b6b';
                    passwordInput.style.boxShadow = '0 20px 60px rgba(255,107,107,0.5)';
                    setTimeout(() => {
                        passwordInput.style.borderColor = 'rgba(255,255,255,0.2)';
                        passwordInput.style.boxShadow = '0 15px 50px rgba(0,0,0,0.5)';
                    }, 400);
                }
            }
        });

        function playShow() {
            music.currentTime = 0;
            music.play().catch(() => {});
            createEvilTroll();
            showSlide(0);
            interval = setInterval(() => {
                createEvilTroll();
                nextSlide();
            }, 4000);
            setTimeout(() => {
                clearInterval(interval);
                music.pause();
                music.currentTime = 0;
            }, 20000);
        }

        function showSlide(n) {
            slides.forEach((slide, i) => slide.classList.toggle('active', i === n));
        }

        function nextSlide() {
            slideIndex = (slideIndex + 1) % 5;
            showSlide(slideIndex);
        }

        // –ú–ï–õ–õ–°–¢–†–û–ô–ù–û–°–¢–¨
        document.querySelectorAll('.video-btn video').forEach(video => {
            video.addEventListener('mouseenter', () => video.play());
            video.addEventListener('mouseleave', () => video.pause());
        });

        function vote(video) {
            votes[video]++;
            updateVotes();
        }

        function updateVotes() {
            const maxVotes = Math.max(...votes);
            const winnerIndex = votes.indexOf(maxVotes);
            document.getElementById('winner').textContent = `v${winnerIndex + 1} (${maxVotes} –≥–æ–ª–æ—Å–æ–≤)`;
            
            document.querySelectorAll('.video-btn').forEach((btn, i) => {
                btn.classList.toggle('winner', i === winnerIndex);
            });
        }

        // –ò–ì–†–ê
        function startFallingGame() {
            const game = document.getElementById('fallingGame');
            game.innerHTML = '';
            fallingScore = 0;
            document.getElementById('fallingScore').textContent = '0';
            
            if (gameInterval) clearInterval(gameInterval);
            
            gameInterval = setInterval(() => {
                const photo = document.createElement('div');
                photo.className = 'falling-photo';
                photo.style.left = Math.random() * 85 + '%';
                photo.style.top = '0%';
                photo.style.backgroundImage = `url("assets/s${Math.floor(Math.random() * 5) + 1}.jpeg")`;
                photo.style.animation = `fall ${Math.random() * 3 + 4}s linear forwards`;
                game.appendChild(photo);
                
                photo.onclick = () => {
                    photo.style.animationPlayState = 'paused';
                    photo.remove();
                    fallingScore++;
                    document.getElementById('fallingScore').textContent = fallingScore;
                };
                
                setTimeout(() => {
                    if (photo.parentNode) photo.remove();
                }, 8000);
            }, 1200);
            
            setTimeout(() => {
                clearInterval(gameInterval);
            }, 35000);
        }
    </script>
</head>
<body>
